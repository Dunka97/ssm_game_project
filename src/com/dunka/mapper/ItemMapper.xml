<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.dunka.mapper.ItemMapper">
  	<!-- 	//查询所有游戏项目
	List<ItemInfo> selectAll(); -->
	<select id="selectAll" resultType="ItemInfo">
		SELECT * 
		FROM item_info 
		order by item_release_date desc
	</select>
	<!-- //	根据Vo返回项目
	List<ItemInfo> selectItemByVo(ItemInfoVo vo); -->
	<select id="selectItemByVo" parameterType="ItemInfoVo" resultType="ItemInfo">
		SELECT * 
		FROM item_info 
		<where>
			<if test="item_name!=null and item_name!='' ">
				and item_name like "%"#{item_name}"%"
			</if>
		</where>
		<choose>
		<when test="sort_rule!=null and sort_rule!='' ">
			order by ${sort_name} ${sort_rule}
		</when>
		<otherwise>order by item_release_date desc</otherwise>
		</choose>
	</select>
	
<!-- 	//添加游戏
	void save(ItemInfo itemInfo); -->
	<insert id="save" parameterType="ItemInfo">
		insert into item_info
		values(
		#{item_id},
		#{item_name},
		#{item_tagids},
		#{item_platform},
		#{item_discount},
		#{item_original_price},
		#{item_cap_image},
		#{item_release_date},
		#{is_hot},
		#{is_hot_sale},
		#{is_free},
		#{is_specials},
		#{is_upcoming},
		#{is_new},
		#{is_enable}
		)
	</insert>
  </mapper>